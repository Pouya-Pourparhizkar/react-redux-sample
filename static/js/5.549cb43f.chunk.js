(this["webpackJsonpreact-redux-sample"]=this["webpackJsonpreact-redux-sample"]||[]).push([[5],{201:function(e,a,t){"use strict";var r=t(220);t.o(r,"ViewMode")&&t.d(a,"ViewMode",(function(){return r.ViewMode}));var n=t(221);t.o(n,"ViewMode")&&t.d(a,"ViewMode",(function(){return n.ViewMode}));var o=t(222);t.d(a,"ViewMode",(function(){return o.a}))},205:function(e,a,t){"use strict";var r=t(82),n=t(270),o=t(161),c=t(0),s=t.n(c),l=Object(r.a)((function(e){var a=e.palette;return Object(n.a)({root:{borderRadius:"16px",fontWeight:500,margin:"0 2px",padding:"0 8px",backgroundColor:a.primary.light,color:a.getContrastText(a.primary.light)}})})),i=function(e){var a=e.children,t=l();return s.a.createElement(o.a,{className:t.root,component:"span",color:"text.primary",bgcolor:"primary.light"},a)};t.d(a,"a",(function(){return i}))},220:function(e,a){},221:function(e,a){},222:function(e,a,t){"use strict";var r;t.d(a,"a",(function(){return r})),function(e){e.Add="add",e.Edit="edit",e.List="list"}(r||(r={}))},301:function(e,a,t){"use strict";t.r(a);var r,n=t(304),o=t(157),c=t(161),s=t(300),l=t(306),i=t(0),u=t.n(i),d=t(36),p=t(43),m=t(205),E=t(82),f=t(270),O=t(292),b=t(307),h=t(295),w=t(294),v=t(246),y=t(159),H=t(231),S=t(269),C=t(268),x=Object(E.a)((function(e){var a=e.spacing;return Object(f.a)({root:{"& .MuiFormControl-root":{marginBottom:a(2)}}})})),k=function(e){var a=x(),t=C.b().shape({id:C.a(),name:C.c().required("This field is required"),powerId:C.a().required("This field is required"),quote:C.c()});return u.a.createElement(H.b,{initialValues:e.hero||{id:-1,name:"",powerId:"",quote:""},validationSchema:t,onSubmit:e.onSaveClick},(function(t){var r=t.errors;return u.a.createElement(H.a,{className:a.root},u.a.createElement(o.a,{className:"pt-16 pb-24",variant:"subtitle1"},e.hero?"Edit":"Create"," Hero"),u.a.createElement(c.a,{display:"flex",flexDirection:"column"},u.a.createElement(S.b,{name:"name",label:"Hero Name",placeholder:"Enter Hero's Name...",variant:"filled"}),u.a.createElement(O.a,{variant:"filled",error:!!r.powerId},u.a.createElement(b.a,{id:"power-label"},"Superpower"),u.a.createElement(S.a,{labelId:"power-label",name:"powerId"},e.powers.map((function(e){return u.a.createElement(h.a,{key:e.id,value:e.id},e.name)}))),r.powerId?u.a.createElement(w.a,null,r.powerId):null),u.a.createElement(S.b,{id:"quote",label:"Favorite Quote",multiline:!0,name:"quote",placeholder:"Favorite Hero quote...",rows:"4",variant:"filled"}),u.a.createElement(c.a,{className:"py-16"},u.a.createElement(v.a,{className:"mr-16",startIcon:u.a.createElement(y.a,null,"close"),onClick:e.onCancelClick},"Cancel"),u.a.createElement(v.a,{className:"mr-16",color:"secondary",startIcon:u.a.createElement(y.a,null,"check"),type:"submit"},e.hero?"Update":"Save"))))}))},_=t(158),R=t(297),A=t(293),g=t(296),D=t(298),j=t(299),M=t(303),L=function(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement(c.a,{className:"py-8 pr-8",display:"flex",alignItems:"center"},u.a.createElement(v.a,{className:"mr-16",color:"secondary",startIcon:u.a.createElement(y.a,null,"add"),onClick:e.onAddClick},"Add"),u.a.createElement(v.a,{className:"mr-16",color:"secondary",startIcon:u.a.createElement(y.a,null,"edit"),onClick:e.onEditClick,disabled:null==e.selectedHero},"Edit"),u.a.createElement(v.a,{className:"mr-16",color:"secondary",startIcon:u.a.createElement(y.a,null,"delete"),onClick:function(){return e.selectedHero&&e.onRemoveClick(e.selectedHero)},disabled:null==e.selectedHero},"Remove"),u.a.createElement(c.a,{flexGrow:1}),u.a.createElement(_.a,{edge:"end"},u.a.createElement(y.a,null,"search"))),u.a.createElement(R.a,null),u.a.createElement(A.a,{className:"py-16"},e.heroes&&e.heroes.map((function(a){return u.a.createElement(g.a,{key:a.id,button:!0,onClick:function(){return e.onSelectClick(a)}},u.a.createElement(D.a,{id:a.id.toString(),primary:a.name}),u.a.createElement(j.a,null,u.a.createElement(M.a,{edge:"end",onChange:function(){return e.onSelectClick(a)},checked:e.selectedHero===a})))}))))},V=t(37),U=t(201);!function(e){e.ADD_HERO="[Hero] Add hero",e.ADD_HERO_SUCCESS="[Hero] Added hero successfuly",e.LOAD_HEROES="[Hero] Load all heroes",e.LOAD_HEROES_SUCCESS="[Hero] Loaded all heroes successfuly",e.LOAD_POWERS="[Hero] Load all powers",e.LOAD_POWERS_SUCCESS="[Hero] Loaded all powers successfuly",e.REMOVE_HERO="[Hero] Remove hero",e.REMOVE_HERO_SUCCESS="[Hero] Removed hero successfuly",e.SELECT_HERO="[Hero] Select hero",e.SET_VIEW_MODE="[Hero] Set View Mode",e.SHOW_SNACKBAR="[Hero] Show snackbar",e.HIDE_SNACKBAR="[Hero] Hide snackbar",e.UPDATE_HERO="[Hero] Update hero",e.UPDATE_HERO_SUCCESS="[Hero] Updated hero succesfuly"}(r||(r={}));var N={heroes:Array(),powers:Array(),loadingHeroes:!1,loadingPowers:!1,snackbarOpen:!1,viewMode:U.ViewMode.List},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.ADD_HERO_SUCCESS:return Object(V.a)({},e,{heroes:e.heroes.concat(a.payload),selectedHero:void 0});case r.LOAD_HEROES:return Object(V.a)({},e,{loadingHeroes:!0});case r.LOAD_HEROES_SUCCESS:return Object(V.a)({},e,{heroes:a.payload,loadingHeroes:!1});case r.LOAD_POWERS:return Object(V.a)({},e,{loadingPowers:!0});case r.LOAD_POWERS_SUCCESS:return Object(V.a)({},e,{powers:a.payload,loadingPowers:!1});case r.REMOVE_HERO:return Object(V.a)({},e,{heroes:e.heroes.filter((function(e){return e.id!==a.payload.id})),selectedHero:void 0});case r.SELECT_HERO:return Object(V.a)({},e,{selectedHero:a.payload});case r.SET_VIEW_MODE:return Object(V.a)({},e,{viewMode:a.payload});case r.SHOW_SNACKBAR:return Object(V.a)({},e,{snackbarOpen:!0,snackbarMessage:a.payload});case r.HIDE_SNACKBAR:return Object(V.a)({},e,{snackbarOpen:!1,snackbarMessage:void 0});case r.UPDATE_HERO_SUCCESS:return Object(V.a)({},e,{heroes:e.heroes.map((function(e){return e.id===a.payload.id?a.payload:e})),selectedHero:void 0});default:return e}},T=t(29),I=t.n(T),W=t(33),q=t(75),B=t(76),K=t(247),F=t.n(K),G=function(){function e(){Object(q.a)(this,e)}return Object(B.a)(e,null,[{key:"createHero",value:function(e){var a;return I.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.awrap(F.a.post("/api/heroes",e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}))}},{key:"deleteHero",value:function(e){var a;return I.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.awrap(F.a.delete("/api/heroes/".concat(e.id)));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}))}},{key:"getHeroes",value:function(){var e;return I.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I.a.awrap(F.a.get("/api/heroes"));case 2:return e=a.sent,a.abrupt("return",e.data);case 4:case"end":return a.stop()}}))}},{key:"updateHero",value:function(e){var a;return I.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.awrap(F.a.put("/api/heroes/".concat(e.id),e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}))}},{key:"getPowers",value:function(){var e;return I.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I.a.awrap(F.a.get("/api/powers"));case 2:return e=a.sent,a.abrupt("return",e.data);case 4:case"end":return a.stop()}}))}}]),e}(),J=function(e){return{type:r.ADD_HERO_SUCCESS,payload:e}},z=function(e){return{type:r.LOAD_HEROES_SUCCESS,payload:e}},Q=function(e){return{type:r.LOAD_POWERS_SUCCESS,payload:e}},X=function(e){return{type:r.REMOVE_HERO_SUCCESS,payload:e}},Y=function(e){return{type:r.SET_VIEW_MODE,payload:e}},Z=function(e){return{type:r.SHOW_SNACKBAR,payload:e}},$=function(e){return{type:r.UPDATE_HERO_SUCCESS,payload:e}},ee=I.a.mark(se),ae=I.a.mark(le),te=I.a.mark(ie),re=I.a.mark(ue),ne=I.a.mark(de),oe=I.a.mark(pe),ce=I.a.mark(me);function se(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(W.b)((function(){return G.createHero(e.payload)}));case 2:return a=t.sent,t.next=5,Object(W.d)(J(a));case 5:return t.next=7,Object(W.d)(Y(U.ViewMode.List));case 7:return t.next=9,Object(W.d)(Z("".concat(e.payload.name," has been added successfully")));case 9:case"end":return t.stop()}}),ee)}function le(){var e;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(W.b)(G.getHeroes);case 2:return e=a.sent,a.next=5,Object(W.d)(z(e));case 5:case"end":return a.stop()}}),ae)}function ie(){var e;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(W.b)(G.getPowers);case 2:return e=a.sent,a.next=5,Object(W.d)(Q(e));case 5:case"end":return a.stop()}}),te)}function ue(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(W.b)((function(){return G.deleteHero(e.payload)}));case 2:return a=t.sent,t.next=5,Object(W.d)(X(a));case 5:return t.next=7,Object(W.d)(Z("".concat(e.payload.name," has been removed successfully")));case 7:case"end":return t.stop()}}),re)}function de(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(W.b)((function(){return G.updateHero(e.payload)}));case 2:return a=t.sent,t.next=5,Object(W.d)($(a));case 5:return t.next=7,Object(W.d)(Y(U.ViewMode.List));case 7:return t.next=9,Object(W.d)(Z("".concat(e.payload.name," has been updated successfully")));case 9:case"end":return t.stop()}}),ne)}function pe(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.e)(r.ADD_HERO,se);case 2:return e.next=4,Object(W.e)(r.LOAD_HEROES,le);case 4:return e.next=6,Object(W.e)(r.LOAD_POWERS,ie);case 6:return e.next=8,Object(W.e)(r.REMOVE_HERO,ue);case 8:return e.next=10,Object(W.e)(r.UPDATE_HERO,de);case 10:case"end":return e.stop()}}),oe)}function me(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)([Object(W.c)(pe)]);case 2:case"end":return e.stop()}}),ce)}var Ee={id:"hero",reducerMap:{hero:P},sagas:[me],initialActions:[],finalActions:[]},fe={addHero:function(e){return{type:r.ADD_HERO,payload:e}},loadHeroes:function(){return{type:r.LOAD_HEROES}},loadPowers:function(){return{type:r.LOAD_POWERS}},hideSnackbar:function(){return{type:r.HIDE_SNACKBAR}},removeHero:function(e){return{type:r.REMOVE_HERO,payload:e}},setViewMode:Y,selectHero:function(e){return{type:r.SELECT_HERO,payload:e}},updateHero:function(e){return{type:r.UPDATE_HERO,payload:e}}},Oe=Object(d.connect)((function(e){var a=e.hero;return{heroes:null===a||void 0===a?void 0:a.heroes,powers:null===a||void 0===a?void 0:a.powers,selectedHero:null===a||void 0===a?void 0:a.selectedHero,snackbarMessage:null===a||void 0===a?void 0:a.snackbarMessage,snackbarOpen:null===a||void 0===a?void 0:a.snackbarOpen,viewMode:null===a||void 0===a?void 0:a.viewMode}}),fe)((function(e){var a=e.heroes,t=e.powers,r=e.selectedHero,d=e.snackbarMessage,E=e.snackbarOpen,f=e.viewMode,O=e.addHero,b=e.loadHeroes,h=e.loadPowers,w=e.hideSnackbar,v=e.removeHero,y=e.selectHero,H=e.setViewMode,S=e.updateHero;Object(i.useEffect)((function(){b(),h()}),[b,h]);return u.a.createElement(p.DynamicModuleLoader,{modules:[Ee]},u.a.createElement(n.a,{smDown:!0},u.a.createElement(o.a,{className:"mb-24",variant:"h4"},"Heroes Application")),u.a.createElement(c.a,{display:"flex"},u.a.createElement(c.a,{flex:"1 1 100%",flexGrow:1,clone:!0},u.a.createElement(s.a,{className:"px-16"},f===U.ViewMode.Add?u.a.createElement(k,{onCancelClick:function(){return H(U.ViewMode.List)},onSaveClick:O,powers:t}):f===U.ViewMode.Edit?u.a.createElement(k,{hero:r,onCancelClick:function(){return H(U.ViewMode.List)},onSaveClick:S,powers:t}):u.a.createElement(L,{heroes:a,selectedHero:r,onAddClick:function(){return H(U.ViewMode.Add)},onEditClick:function(){return H(U.ViewMode.Edit)},onRemoveClick:v,onSelectClick:y}))),u.a.createElement(n.a,{smDown:!0},u.a.createElement(c.a,{className:"section",flex:"1 1 100%",flexGrow:1,ml:"5%"},u.a.createElement(o.a,{variant:"h5"},"A Simple Example..."),u.a.createElement("p",null,"This is a classic ",u.a.createElement(m.a,null,"heroes")," CRUD example where you can add, edit or remove your favorite heroes."),u.a.createElement("p",null,"State management is implemented using the beloved ",u.a.createElement(m.a,null,"react-redux"),", the official React bindings for",u.a.createElement(m.a,null,"redux")," library, combined with ",u.a.createElement(m.a,null,"redux-saga")," middleware that adds side effect capabilities on dispatched actions to execute asynchronous operations and interact with the store."),u.a.createElement("p",null,"The form implementation is made with ",u.a.createElement(m.a,null,"formik")," and ",u.a.createElement(m.a,null,"formik-material-ui")," bindings adapted for ",u.a.createElement(m.a,null,"material-ui")," design library."),u.a.createElement("p",null,"Backend server is mocked using ",u.a.createElement(m.a,null,"redux-persist")," addon to persist state changes in LocalStorage in combinaison with ",u.a.createElement(m.a,null,"miragejs")," library to initially load stored data and mock HTTP requests."),u.a.createElement("p",null,"Transitions are made with ",u.a.createElement(m.a,null,"react-spring")," library that makes it easy to write powerfull and interactive animation sequences in a jiffy.")))),u.a.createElement(l.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,message:d,onClose:function(e,a){"clickaway"!==a&&w()},open:E}))}));t.d(a,"default",(function(){return Oe}))}}]);
//# sourceMappingURL=5.549cb43f.chunk.js.map